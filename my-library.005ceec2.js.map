{"mappings":"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","sources":["src/my-library.js","src/js/fromStorage/fetchWatchedFromStorage.js","src/js/fromStorage/renderWatchedMarkup.js","src/js/fromStorage/fetchMovieByIdFromStorageQueue.js","src/js/fromStorage/renderQueueMarkup.js","src/js/firebase-library.js"],"sourcesContent":["import { hideScrollUpBtn } from './js/hide-scroll-up-button';\nimport { smoothscroll } from './js/smoothscroll';\n// import { renderMarkup } from './js/showTrending/renderTrending';\nimport { hiddenElementsOnMobileVersion } from './js/hideElementsInMobileVersion';\nimport { fetchMovieByIdFromStorageWatched } from './js/fromStorage/fetchWatchedFromStorage';\nimport { fetchMovieByIdFromStorageQueue } from './js/fromStorage/fetchMovieByIdFromStorageQueue';\n// import storage from './js/storage';\n\n// import './js/pagination/pagination';\nimport './js/modalTeam/renderTeam';\nimport './js/modalTeam/teamModal';\nimport './js/vanilla';\nimport './js/modal';\nimport './js/firebase-library';\n\nsmoothscroll();\nwindow.addEventListener('scroll', hideScrollUpBtn);\n","import { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\nimport axios from 'axios';\nimport { renderWatchedMarkup } from './renderWatchedMarkup';\nimport { auth, dbRef } from '../firebase';\nimport {\n  getDatabase,\n  ref,\n  set,\n  onValue,\n  child,\n  get,\n  push,\n  update,\n} from 'firebase/database';\n\nimport { onAuthStateChanged } from 'firebase/auth';\n\n// const myLibrLink = document.querySelector('.header-nav_libr');\nconst btnQueue = document.querySelector('.header_btn-queue');\nconst btnWatched = document.querySelector('.header_btn-watched');\nconst gallery = document.querySelector('.gallery');\n\nconst API_KEY = 'ac91775ba29254b7e75060011bf34a90';\n\n// myLibrLink.addEventListener('click', fetchMovieByIdFromStorageWatched);\nbtnWatched.addEventListener('click', fetchMovieByIdFromStorageWatched);\n\nexport { fetchMovieByIdFromStorageWatched };\n\nasync function fetchMovieByIdFromStorageWatched() {\n  btnQueue.classList.remove('current-btn');\n  btnWatched.classList.add('current-btn');\n\n  // const savedMovies = await JSON.parse(getWatched());\n  // const parsedMovies = JSON.parse(savedMovies);\n  // console.log(parsedMovies);\n\n  gallery.innerHTML = '';\n\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      get(child(dbRef, `users/${user.uid}/watched`))\n        .then(snapshot => {\n          if (snapshot.exists()) {\n            const savedMovies = Object.values(snapshot.val());\n            savedMovies.forEach(element => {\n              axios\n                .get(\n                  `https://api.themoviedb.org/3/movie/${element}?api_key=${API_KEY}&language=en-US`\n                )\n                .then(({ data }) => renderWatchedMarkup(data));\n            });\n          } else {\n            // console.log('No data available');\n            Report.info(\n              'No movies in collection now',\n              'Add movies to see them here'\n            );\n          }\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    } else {\n      console.log('no user');\n    }\n  });\n}\n\nfetchMovieByIdFromStorageWatched();\n//\n","import { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport { fetchGenres } from '../fetchGenres';\n\nexport { renderWatchedMarkup };\n\nconst gallery = document.querySelector('.gallery');\n\nconst renderWatchedMarkup = async data => {\n  try {\n    // const data = await fetchMovieByIdFromStorageWatched();\n    // console.log(data);\n    const { genres } = await fetchGenres();\n    // console.log(genres);\n    Loading.hourglass();\n    gallery.insertAdjacentHTML(\n      'afterbegin',\n      watchedGalleryMarkupСreat(data, genres)\n    );\n    Loading.remove();\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nconst watchedGalleryMarkupСreat = (data, genres) => {\n  const markup = `\n      <li class=\"movieCard\">\n              <a data-id=\"${data.id}\">\n                  <img class=\"movieCard__image\" src=\"https://image.tmdb.org/t/p/w500${\n                    data.poster_path\n                  }\" alt=\"movieImg\" />\n                  <p class=\"movieCard__info movieCard__title\">${titleSlice(\n                    data.title\n                  )}</p>\n                      <p class=\"movieCard__info movieCard__description\">${cardGenres(\n                        genres\n                      )} | ${data.release_date.slice(0, 4)}</p>\n              </a>\n      </li>\n    `;\n  return markup;\n};\n\nconst titleSlice = title => {\n  if (title.length > 30) {\n    const titleSliced = title.slice(0, 30) + '...';\n    return titleSliced;\n  } else {\n    return title;\n  }\n};\n\nconst cardGenres = genres => {\n  let cardGenresArr = [];\n\n  for (let genre of genres) {\n    cardGenresArr.push(genre.name);\n  }\n\n  switch (true) {\n    case cardGenresArr.length > 2:\n      return `${cardGenresArr[0]}, ${cardGenresArr[1]}, other...`;\n\n    case cardGenresArr.length === 2:\n      return `${cardGenresArr[0]}, ${cardGenresArr[1]}`;\n\n    case cardGenresArr.length === 1:\n      return `${cardGenresArr[0]}`;\n\n    default:\n      break;\n  }\n};\n\n// renderWatchedMarkup();\n","import axios from 'axios';\nimport { renderQueueMarkup } from './renderQueueMarkup';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\n\nimport { auth, dbRef } from '../firebase';\nimport {\n  getDatabase,\n  ref,\n  set,\n  onValue,\n  child,\n  get,\n  push,\n  update,\n} from 'firebase/database';\n\nimport { onAuthStateChanged } from 'firebase/auth';\n\nexport { fetchMovieByIdFromStorageQueue };\n\nconst btnQueue = document.querySelector('.header_btn-queue');\nconst btnWatched = document.querySelector('.header_btn-watched');\nconst gallery = document.querySelector('.gallery');\n\nconst API_KEY = 'ac91775ba29254b7e75060011bf34a90';\n\nbtnQueue.addEventListener('click', fetchMovieByIdFromStorageQueue);\n\nasync function fetchMovieByIdFromStorageQueue() {\n  btnWatched.classList.remove('current-btn');\n  btnQueue.classList.add('current-btn');\n\n  gallery.innerHTML = '';\n\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      get(child(dbRef, `users/${user.uid}/queue`))\n        .then(snapshot => {\n          if (snapshot.exists()) {\n            const savedMovies = Object.values(snapshot.val());\n            savedMovies.forEach(element => {\n              axios\n                .get(\n                  `https://api.themoviedb.org/3/movie/${element}?api_key=${API_KEY}&language=en-US`\n                )\n                .then(({ data }) => renderQueueMarkup(data));\n            });\n          } else {\n            Report.info(\n              'No movies in collection now',\n              'Add movies to see them here'\n            );\n          }\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    } else {\n      console.log('no user');\n    }\n  });\n}\n","import { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport { fetchGenres } from '../fetchGenres';\n\nexport { renderQueueMarkup };\n\nconst gallery = document.querySelector('.gallery');\n\nconst renderQueueMarkup = async data => {\n  try {\n    // const data = await fetchMovieByIdFromStorageWatched();\n    // console.log(data);\n    const { genres } = await fetchGenres();\n    // console.log(genres);\n    Loading.hourglass();\n    gallery.insertAdjacentHTML(\n      'afterbegin',\n      queueGalleryMarkupСreat(data, genres)\n    );\n    Loading.remove();\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nconst queueGalleryMarkupСreat = (data, genres) => {\n  const markup = `\n      <li class=\"movieCard\">\n              <a data-id=\"${data.id}\">\n                  <img class=\"movieCard__image\" src=\"https://image.tmdb.org/t/p/w500${\n                    data.poster_path\n                  }\" alt=\"movieImg\" />\n                  <p class=\"movieCard__info movieCard__title\">${titleSlice(\n                    data.title\n                  )}</p>\n                      <p class=\"movieCard__info movieCard__description\">${cardGenres(\n                        genres\n                      )} | ${data.release_date.slice(0, 4)}</p>\n              </a>\n      </li>\n    `;\n  return markup;\n};\n\nconst titleSlice = title => {\n  if (title.length > 30) {\n    const titleSliced = title.slice(0, 30) + '...';\n    return titleSliced;\n  } else {\n    return title;\n  }\n};\n\nconst cardGenres = genres => {\n  let cardGenresArr = [];\n\n  for (let genre of genres) {\n    cardGenresArr.push(genre.name);\n  }\n\n  switch (true) {\n    case cardGenresArr.length > 2:\n      return `${cardGenresArr[0]}, ${cardGenresArr[1]}, other...`;\n\n    case cardGenresArr.length === 2:\n      return `${cardGenresArr[0]}, ${cardGenresArr[1]}`;\n\n    case cardGenresArr.length === 1:\n      return `${cardGenresArr[0]}`;\n\n    default:\n      break;\n  }\n};\n","// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app';\n\nimport { onBackdropClick, onEscKeyPress } from './modal';\n\nimport {\n  getAuth,\n  onAuthStateChanged,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  signOut,\n  signInWithPopup,\n  GoogleAuthProvider,\n  sendEmailVerification,\n  // signInWithRedirect,\n  RecaptchaVerifier,\n  signInWithPhoneNumber,\n  // connectAuthEmulator,\n} from 'firebase/auth';\n\nimport {\n  getDatabase,\n  ref,\n  set,\n  onValue,\n  child,\n  get,\n  push,\n  update,\n} from 'firebase/database';\n\n// Initialize Firebase\nconst firebaseApp = initializeApp({\n  apiKey: 'AIzaSyCrjIQ-i-DV-fkmDO-FB_HdRZGKiM7ste8',\n  authDomain: 'filmoteka-project9.firebaseapp.com',\n  projectId: 'filmoteka-project9',\n  storageBucket: 'filmoteka-project9.appspot.com',\n  messagingSenderId: '1031272501813',\n  appId: '1:1031272501813:web:a2ca2d3955cbe4cf9a577c',\n  measurementId: 'G-1NQ8JF0W90',\n  databaseURL:\n    'https://filmoteka-project9-default-rtdb.europe-west1.firebasedatabase.app/',\n});\n\nexport const auth = getAuth(firebaseApp);\n\n// Initialize Realtime Database and get a reference to the service\nconst db = getDatabase(firebaseApp);\n\nexport const dbRef = ref(db);\n\n// ================= запуск локального эмулятора =================\n\n//из это папки >>> C:\\Filmoteka\n//запуск хоcтинга >>> firebase serve --only hosting\n//запуск эмулятора >>> firebase emulators:start --only auth\n\n// connectAuthEmulator(auth, 'http://localhost:9099/');\n\n// ============================================================================\n\nconst refs = {\n  btnCloseModal: document.querySelector('[data-signInModal-close]'),\n  btnSignIn: document.querySelector('#signInModalOpen'),\n  btnLogOut: document.querySelector('#logoutBtn'),\n  btnLoginWithPhone: document.querySelector('#LogInWithPhoneBtn'),\n  btnPhoneLogin: document.querySelector('#LogInPhone'),\n  btnGoogleLogin: document.querySelector('#googleLoginBtn'),\n  btnLoginWithEmail: document.querySelector('#loginWithEmailBtn'),\n  btnLoginEmail: document.querySelector('#loginEmailBtn'),\n  btnSignUpWithEmail: document.querySelector('#SignUpWitnEmailBtn'),\n  btnSignUpEmail: document.querySelector('#SignUpBtn'),\n  btnConfirmEmail: document.querySelector('#ConfirmEmail'),\n\n  backdrop: document.querySelector('[data-signInModal]'),\n  navigation: document.querySelector('.navigation__list'),\n  boxUser: document.querySelector('.user__box'),\n  boxSignInModal: document.querySelector('.signInModal__box'),\n  boxSignInWithEmailModal: document.querySelector(\n    '.signInModal__signInWithEmail'\n  ),\n  boxSignUpWithEmail: document.querySelector('.signInModal__signUpWithEmail'),\n  boxLogInWithPhone: document.querySelector('.signInModal__LogInWithPhone'),\n  boxRecaptcha: document.querySelector('.recaptcha-container'),\n\n  loginEmail: document.querySelector('#email'),\n  loginPassword: document.querySelector('#password'),\n  signUpEmail: document.querySelector('#emailSignUp'),\n  signUpPassword: document.querySelector('#passwordSignUp'),\n  loginPhone: document.querySelector('#phone'),\n  loginPhoneCode: document.querySelector('#loginPhoneCode'),\n  modal: document.querySelector('[data-signInModal]'),\n  userName: document.querySelector('.user__name'),\n  formField: document.querySelector('.auth-form__field'),\n  formTitle: document.querySelector('.auth-form__title'),\n  body: document.querySelector('body'),\n};\n\n// close Modal Func auth =====================================================================================\n\nconst closeModalFunc = () => {\n  refs.btnCloseModal.addEventListener('click', () => {\n    refs.backdrop.classList.add('backdrop--hidden');\n    refs.body.classList.remove('scroll-hidden');\n  });\n\n  window.addEventListener('keydown', e => {\n    const ESC_KEY_CODE = 'Escape';\n    const isEscKey = e.code === ESC_KEY_CODE;\n    if (isEscKey) {\n      refs.backdrop.classList.add('backdrop--hidden');\n      refs.body.classList.remove('scroll-hidden');\n    }\n  });\n\n  refs.backdrop.addEventListener('click', e => {\n    if (event.currentTarget === event.target) {\n      refs.backdrop.classList.add('backdrop--hidden');\n      refs.body.classList.remove('scroll-hidden');\n    }\n  });\n\n  if (refs.backdrop.classList.contains('backdrop--hidden')) {\n    refs.btnCloseModal.removeEventListener('click', () => {\n      refs.backdrop.classList.add('backdrop--hidden');\n      refs.body.classList.remove('scroll-hidden');\n    });\n\n    window.removeEventListener('keydown', e => {\n      const ESC_KEY_CODE = 'Escape';\n      const isEscKey = e.code === ESC_KEY_CODE;\n      if (isEscKey) {\n        refs.backdrop.classList.add('backdrop--hidden');\n        refs.body.classList.remove('scroll-hidden');\n      }\n    });\n\n    refs.backdrop.removeEventListener('click', e => {\n      if (event.currentTarget === event.target) {\n        refs.backdrop.classList.add('backdrop--hidden');\n        refs.body.classList.remove('scroll-hidden');\n      }\n    });\n  }\n};\n\n// monitor Auth State =====================================================================================\n\nconst monitorAuthState = async () => {\n  try {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        // console.log(user);\n\n        switch (true) {\n          case user.displayName !== null && user.photoURL !== null:\n            refs.boxUser.innerHTML = `<img class=\"user__img\" src= ${user.photoURL} alt=\"\" />\n                                  <div class=\"user__info\"><p class=\"user__greeting\">Good to see You again</p>\n                                  <p class=\"user__name\"> ${user.displayName}</p></div>`;\n            break;\n\n          case user.displayName === null && user.photoURL === null:\n            refs.boxUser.innerHTML = `<p class=\"user__greeting\">Good to see You again</p>\n                                  <p class=\"user__name\">Logged in as ${user.email}</p>`;\n            break;\n\n          default:\n            break;\n        }\n        refs.navigation.innerHTML = `<li class=\"navigation__item\">\n          <a class=\"navigation__link \" href=\"./index.html\">HOME</a>\n        </li>\n        <li class=\"navigation__item\">\n          <a class=\"navigation__link navigation__link--current\" href=\"./my-library.html\">MY LIBRARY</a>\n        </li>`;\n\n        refs.btnSignIn.classList.add('visually-hidden');\n        refs.btnLogOut.classList.remove('visually-hidden');\n        refs.backdrop.classList.add('backdrop--hidden');\n        refs.btnLogOut.addEventListener('click', logOut);\n        refs.btnSignIn.removeEventListener('click', onbtnSignInClick);\n        refs.body.classList.remove('scroll-hidden');\n      } else {\n        refs.boxUser.innerHTML = `<p class=\"user__name\">Hello Stranger</p>`;\n        refs.navigation.innerHTML = ``;\n        refs.btnSignIn.classList.remove('visually-hidden');\n        refs.btnLogOut.classList.add('visually-hidden');\n        refs.btnLogOut.removeEventListener('click', logOut);\n        refs.btnSignIn.addEventListener('click', onbtnSignInClick);\n      }\n    });\n  } catch (error) {\n    showLoginError(error);\n  }\n};\n\nmonitorAuthState();\n\n// on btn SignIn Click =====================================================================================\n\nconst onbtnSignInClick = e => {\n  event.preventDefault();\n  refs.backdrop.classList.remove('backdrop--hidden');\n  refs.btnGoogleLogin.addEventListener('click', onBtnGoogleLoginClick);\n  refs.btnLoginWithEmail.addEventListener('click', onbtnLoginWithEmailClick);\n  refs.btnSignUpWithEmail.addEventListener('click', onBtnSignUpWithEmailClick);\n  refs.body.classList.add('scroll-hidden');\n  closeModalFunc();\n};\n\nconst logOut = async () => {\n  await signOut(auth);\n  document.location.href = 'index.html';\n};\n\n// show Login Error =====================================================================================\n\nconst showLoginError = error => {\n  if (error.message == 'Firebase: Error (auth/wrong-password).') {\n    alert('Wrong password, Try again');\n  }\n  if (error.message == 'Firebase: Error (auth/invalid-email).') {\n    alert(`Invalid email, Try again`);\n  } else {\n    alert(`${error.message}`);\n  }\n};\n\n// create Account  =====================================================================================\n\nconst onBtnSignUpWithEmailClick = () => {\n  refs.btnGoogleLogin.removeEventListener('click', onBtnGoogleLoginClick);\n  refs.btnLoginWithEmail.removeEventListener('click', onbtnLoginWithEmailClick);\n  refs.btnLoginEmail.removeEventListener('click', loginEmailPasspord);\n  refs.btnSignUpEmail.addEventListener('click', createAccount);\n  refs.boxSignUpWithEmail.classList.remove('visually-hidden');\n  refs.boxSignInModal.classList.add('visually-hidden');\n};\n\nconst createAccount = async e => {\n  e.preventDefault();\n  const email = refs.signUpEmail.value;\n  const password = refs.signUpPassword.value;\n\n  if (email && password) {\n    refs.backdrop.classList.add('backdrop--hidden');\n    refs.boxSignUpWithEmail.classList.add('visually-hidden');\n    refs.boxSignInModal.classList.remove('visually-hidden');\n  }\n\n  try {\n    const userCredential = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n\n    user = userCredential.user;\n\n    writeUserData(user.uid, user.displayName, user.email, user.photoURL);\n  } catch (error) {\n    showLoginError(error);\n  }\n};\n\n// sign In With Email And Password auth =====================================================================================\n\nconst onbtnLoginWithEmailClick = () => {\n  refs.btnGoogleLogin.removeEventListener('click', onBtnGoogleLoginClick);\n  refs.btnLoginWithEmail.removeEventListener('click', onbtnLoginWithEmailClick);\n  refs.btnLoginEmail.addEventListener('click', loginEmailPasspord);\n  refs.boxSignInWithEmailModal.classList.remove('visually-hidden');\n  refs.boxSignInModal.classList.add('visually-hidden');\n};\n\nconst loginEmailPasspord = async e => {\n  e.preventDefault();\n  const email = refs.loginEmail.value;\n  const password = refs.loginPassword.value;\n\n  if (email && password) {\n    refs.backdrop.classList.add('backdrop--hidden');\n    refs.boxSignInWithEmailModal.classList.add('visually-hidden');\n    refs.boxSignInModal.classList.remove('visually-hidden');\n  }\n\n  try {\n    const userCredential = await signInWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n  } catch (error) {\n    showLoginError(error);\n  }\n};\n\n// google auth =====================================================================================\n\nconst provider = new GoogleAuthProvider();\n\nprovider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n\nprovider.setCustomParameters({\n  login_hint: 'user@example.com',\n});\n\nexport const onBtnGoogleLoginClick = e => {\n  e.preventDefault();\n  signInWithPopup(auth, provider)\n    .then(result => {\n      // This gives you a Google Access Token. You can use it to access the Google API.\n      const credential = GoogleAuthProvider.credentialFromResult(result);\n      const token = credential.accessToken;\n      // The signed-in user info.\n      const user = result.user;\n      // ...\n\n      get(child(dbRef, `users/${user.uid}`))\n        .then(snapshot => {\n          if (snapshot.exists()) {\n            // console.log(snapshot.val());\n          } else {\n            writeUserData(\n              user.uid,\n              user.displayName,\n              user.email,\n              user.photoURL\n            );\n          }\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    })\n    .catch(error => {\n      // Handle Errors here.\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      // The email of the user's account used.\n      const email = error.customData.email;\n      // The AuthCredential type that was used.\n      const credential = GoogleAuthProvider.credentialFromError(error);\n      // ...\n    });\n};\n\n// data base =================================================================================\n\n// add User in DB ============================================================================\n\nfunction writeUserData(userId, name, email, imageUrl) {\n  set(ref(db, 'users/' + userId), {\n    username: name,\n    email: email,\n    profile_picture: imageUrl,\n  });\n}\n\n// add to watched ============================================================================\n\nexport const onAddToWatchedBtnClick = async filmId => {\n  try {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        AddToWatched(user.uid, filmId);\n      } else {\n        console.log('no user');\n      }\n    });\n  } catch (error) {\n    showLoginError(error);\n  }\n};\n\nfunction AddToWatched(uid, filmId) {\n  get(child(dbRef, `users/${uid}/watched`))\n    .then(snapshot => {\n      if (snapshot.exists()) {\n        const amount = Array.from(snapshot.val()).length;\n        const postData = { [amount]: filmId };\n        update(child(dbRef, `users/${uid}/watched`), postData);\n      } else {\n        const postData = { watched: { 0: filmId } };\n        update(child(dbRef, `users/${uid}`), postData);\n      }\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n\n// remove from watched ============================================================================\n\nexport const onRemoveFromWatchedBtnClick = async filmId => {\n  try {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        removeFromWatched(user.uid, filmId);\n      } else {\n        console.log('no user');\n      }\n    });\n  } catch (error) {\n    showLoginError(error);\n  }\n};\n\nfunction removeFromWatched(uid, filmId) {\n  get(child(dbRef, `users/${uid}/watched`))\n    .then(snapshot => {\n      if (snapshot.exists()) {\n        const Data = Object.values(snapshot.val()).filter(\n          item => item !== filmId\n        );\n        let postData = { watched: Object.assign({}, Data) };\n        update(child(dbRef, `users/${uid}`), postData);\n      } else {\n        // const postData = { watched: { [filmId]: filmName } };\n        // update(child(dbRef, `users/${uid}`), postData);\n      }\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n\n// add to queue ============================================================================\n\nexport const onAddToQueueBtnClick = async filmId => {\n  try {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        addToQueue(user.uid, filmId);\n      } else {\n        console.log('no user');\n      }\n    });\n  } catch (error) {\n    showLoginError(error);\n  }\n};\n\nfunction addToQueue(uid, filmId) {\n  get(child(dbRef, `users/${uid}/queue`))\n    .then(snapshot => {\n      if (snapshot.exists()) {\n        const amount = Array.from(snapshot.val()).length;\n        const postData = { [amount]: filmId };\n        update(child(dbRef, `users/${uid}/queue`), postData);\n      } else {\n        const postData = { queue: { 0: filmId } };\n        update(child(dbRef, `users/${uid}`), postData);\n      }\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n\n// remove from queue ============================================================================\n\nexport const onRemoveFromQueueBtnClick = async filmId => {\n  try {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        removeFromQueue(user.uid, filmId);\n      } else {\n        console.log('no user');\n      }\n    });\n  } catch (error) {\n    showLoginError(error);\n  }\n};\n\nfunction removeFromQueue(uid, filmId) {\n  get(child(dbRef, `users/${uid}/queue`))\n    .then(snapshot => {\n      if (snapshot.exists()) {\n        const Data = Object.values(snapshot.val()).filter(\n          item => item !== filmId\n        );\n\n        let postData = { queue: Object.assign({}, Data) };\n\n        update(child(dbRef, `users/${uid}`), postData);\n      }\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n"],"names":["$kfhZi","parcelRequire","$bpxeT","$3edbe494ea87ec58$var$gallery","document","querySelector","$3edbe494ea87ec58$export$1fbb1e823a6c5950","$parcel$interopDefault","$2TvXO","mark","_callee","data","genres","$3likm","fetchGenres","_ctx","sent","$7rQOT","Loading","hourglass","insertAdjacentHTML","remove","console","error","t0","message","concat","id","poster_path","$3edbe494ea87ec58$var$titleSlice","title","$3edbe494ea87ec58$var$cardGenres","release_date","slice","length","cardGenresArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","genre","value","push","name","err","return","$aa31d2a32f2a478a$var$btnQueue","$aa31d2a32f2a478a$var$btnWatched","$aa31d2a32f2a478a$var$gallery","$aa31d2a32f2a478a$var$API_KEY","$aa31d2a32f2a478a$export$76db5913f35af0d5","$aa31d2a32f2a478a$var$_fetchMovieByIdFromStorageWatched","apply","this","arguments","classList","add","innerHTML","$gQOBw","onAuthStateChanged","$iNWLi","auth","user","$cokon","get","child","dbRef","uid","then","snapshot","exists","Object","values","val","forEach","element","$dIxxU","default","param","$fivgP","Report","info","catch","log","addEventListener","$0b589136e8229473$var$gallery","$0b589136e8229473$export$3a5aa6f3e56312e1","$0b589136e8229473$var$titleSlice","$0b589136e8229473$var$cardGenres","$65a4d08344c41194$var$btnQueue","$65a4d08344c41194$var$btnWatched","$65a4d08344c41194$var$gallery","$65a4d08344c41194$var$API_KEY","$65a4d08344c41194$var$_fetchMovieByIdFromStorageQueue","$9c0fa9e3add06179$var$firebaseApp","$fkNhc","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","databaseURL","$9c0fa9e3add06179$export$73693bad9f5880b0","getAuth","$9c0fa9e3add06179$var$db","getDatabase","$9c0fa9e3add06179$export$80a8f1833d408a38","ref","$9c0fa9e3add06179$var$refs","btnCloseModal","btnSignIn","btnLogOut","btnLoginWithPhone","btnPhoneLogin","btnGoogleLogin","btnLoginWithEmail","btnLoginEmail","btnSignUpWithEmail","btnSignUpEmail","btnConfirmEmail","backdrop","navigation","boxUser","boxSignInModal","boxSignInWithEmailModal","boxSignUpWithEmail","boxLogInWithPhone","boxRecaptcha","loginEmail","loginPassword","signUpEmail","signUpPassword","loginPhone","loginPhoneCode","modal","userName","formField","formTitle","body","$9c0fa9e3add06179$var$monitorAuthState","displayName","photoURL","email","$9c0fa9e3add06179$var$logOut","removeEventListener","$9c0fa9e3add06179$var$onbtnSignInClick","$9c0fa9e3add06179$var$showLoginError","e","event","preventDefault","$9c0fa9e3add06179$export$ab7b7ebee37be904","$9c0fa9e3add06179$var$onbtnLoginWithEmailClick","$9c0fa9e3add06179$var$onBtnSignUpWithEmailClick","window","code","currentTarget","target","contains","signOut","location","href","alert","$9c0fa9e3add06179$var$loginEmailPasspord","$9c0fa9e3add06179$var$createAccount","password","userCredential","createUserWithEmailAndPassword","$9c0fa9e3add06179$var$writeUserData","signInWithEmailAndPassword","$9c0fa9e3add06179$var$provider","GoogleAuthProvider","addScope","setCustomParameters","login_hint","signInWithPopup","result","credentialFromResult","accessToken","customData","credentialFromError","userId","imageUrl","set","username","profile_picture","filmId","$9c0fa9e3add06179$var$AddToWatched","amount","Array","from","postData","$hKHmD","update","postData1","watched","$9c0fa9e3add06179$var$removeFromWatched","Data","filter","item","assign","$9c0fa9e3add06179$var$addToQueue","postData2","queue","$9c0fa9e3add06179$var$removeFromQueue","$eI9Bk","smoothscroll","hideScrollUpBtn"],"version":3,"file":"my-library.005ceec2.js.map"}